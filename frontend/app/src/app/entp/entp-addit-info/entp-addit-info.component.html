<form>
  <mat-accordion class="example-headers-align">
      <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>
              Bank accounts
          </mat-panel-title>
          <mat-panel-description>
            Type your banks name and your bank account number
            <mat-icon>account_circle</mat-icon>
          </mat-panel-description>
        </mat-expansion-panel-header>
        
        <mat-form-field appearance="fill">
          <mat-label>Number of accounts</mat-label>
          <input (input)="accountNoChanged($event)" type="number" matInput name="no_accounts" min="1">
        </mat-form-field>

        <section *ngFor="let account of accounts; let i=index">
          <mat-form-field appearance="fill">
            <mat-label>Bank name</mat-label>
            <input [(ngModel)]="account.bank_name" type="text" matInput name="bank_name{{i}}">
          </mat-form-field>
      
          <mat-form-field appearance="fill">
            <mat-label>Account number</mat-label>
            <input [(ngModel)]="account.number" matInput type="text" name="bank_number{{i}}">
          </mat-form-field>
          
        </section>
        
        <mat-action-row>
          <button mat-button color="primary" (click)="nextStep()">Next</button>
        </mat-action-row>
      </mat-expansion-panel>
    
      <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Storages
          </mat-panel-title>
          <mat-panel-description>
            Type the storage uid and name
            <mat-icon>map</mat-icon>
          </mat-panel-description>
        </mat-expansion-panel-header>

        <mat-form-field appearance="fill">
          <mat-label>Number of storages</mat-label>
          <input (input)="storageNoChanged($event)"  type="number" matInput name="no_storages" min="1">
        </mat-form-field>

        <section *ngFor="let storage of storages; let i=index">
          <mat-form-field appearance="fill">
            <mat-label>UID</mat-label>
            <input [(ngModel)]="storage.id" matInput type="text" name="storage_id{{i}}">
          </mat-form-field>
      
          <mat-form-field appearance="fill">
            <mat-label>Name</mat-label>
            <input [(ngModel)]="storage.name" matInput type="text" name="storage_name{{i}}">
          </mat-form-field>
        </section>

        <mat-action-row>
          <button mat-button color="warn" (click)="prevStep()">Previous</button>
          <button mat-button color="primary" (click)="nextStep()">Next</button>
        </mat-action-row>
      </mat-expansion-panel>
    
      <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>
              Cash registers
          </mat-panel-title>
          <mat-panel-description>
              Select type of register and location, where it resides
            <mat-icon>date_range</mat-icon>
          </mat-panel-description>
        </mat-expansion-panel-header>

        <mat-form-field appearance="fill">
          <mat-label>Number of cash registers</mat-label>
          <input (input)="registerNoChanged($event)"  type="number" matInput name="no_registers" min="1">
        </mat-form-field>
    
        <section *ngFor="let register of registers; let i=index">

          <mat-form-field appearance="fill">
            <mat-label>Select an option</mat-label>
            <mat-select [(value)]="register.register_type">
              <mat-option *ngFor="let type of register_types" [value]="type">{{type}}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Object location</mat-label>
            <input [(ngModel)]="register.obj_location" matInput type="text" name="register_location{{i}}">
          </mat-form-field>
        </section>
        
        <mat-action-row>
          <button mat-button color="warn" (click)="prevStep()">Previous</button>
          <button mat-button color="primary" (click)="nextStep()">End</button>
        </mat-action-row>
      </mat-expansion-panel>

      <!-- TODO: DODAJ CHECKBOX ZA PDV-->
      <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)" hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>
              Category
          </mat-panel-title>
          <mat-panel-description>
              Select category of your business 
            <mat-icon>account_circle</mat-icon>
          </mat-panel-description>
        </mat-expansion-panel-header>
    
        <mat-radio-group aria-label="Select an option" [(ngModel)]="selected_category" name="category">
          <mat-radio-button value="prodavnica">Prodavnica</mat-radio-button>
          <mat-radio-button value="ugostiteljstvo">Ugostiteljski objekat</mat-radio-button>
        </mat-radio-group>
        <br/>

        <!-- <mat-checkbox class="example-margin" name="inPDV">In pdv system</mat-checkbox> -->
        
        <mat-action-row>
          <button mat-button color="primary" (click)="nextStep()">Next</button>
        </mat-action-row>
      </mat-expansion-panel>
    
    <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)" hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
            Classification code
        </mat-panel-title>
        <mat-panel-description>
            Select your business classification code
          <mat-icon>account_circle</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>
  
      <mat-form-field appearance="fill">
        <mat-label>Select classification code</mat-label>
        <mat-select [(value)]="selected_code">
          <mat-option *ngFor="let code of classification_codes" [value]="code.code">{{code.name}}</mat-option>
        </mat-select>
      </mat-form-field>

      <!-- <mat-checkbox class="example-margin" name="inPDV">In pdv system</mat-checkbox> -->
      
      <mat-action-row>
        <button mat-button color="primary" (click)="nextStep()">Next</button>
      </mat-action-row>
    </mat-expansion-panel>
  
  </mat-accordion>
  <button mat-raised-button (click)="confirm()">Confirm</button>

</form>
  